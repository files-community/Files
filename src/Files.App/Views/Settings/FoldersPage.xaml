<!--  Copyright (c) 2023 Files Community. Licensed under the MIT License. See the LICENSE.  -->
<Page
	x:Class="Files.App.Views.Settings.FoldersPage"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:helpers="using:Files.App.Helpers"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:uc="using:Files.App.UserControls"
	DataContext="{x:Bind ViewModel}"
	mc:Ignorable="d">

	<Page.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="/UserControls/Settings/SettingsControls.xaml" />
			</ResourceDictionary.MergedDictionaries>
		</ResourceDictionary>
	</Page.Resources>

	<Grid x:Name="RootGrid">
		<StackPanel Spacing="{StaticResource SettingsCardSpacing}">
			<StackPanel.ChildrenTransitions>
				<TransitionCollection>
					<EntranceThemeTransition />
				</TransitionCollection>
			</StackPanel.ChildrenTransitions>

			<!--  Title (Folder)  -->
			<TextBlock Style="{StaticResource SettingsHeaderTextBlockStyle}" Text="{helpers:ResourceString Name=Folders}" />

			<!--  Folder Overrides  -->
			<uc:SettingsCard Header="{helpers:ResourceString Name=SyncFolderPreferencesAcrossDirectories}">
				<uc:SettingsCard.HeaderIcon>
					<FontIcon Glyph="&#xE621;" />
				</uc:SettingsCard.HeaderIcon>
				<ToggleSwitch
					AutomationProperties.Name="{helpers:ResourceString Name=SyncFolderPreferencesAcrossDirectories}"
					IsOn="{x:Bind ViewModel.SyncFolderPreferencesAcrossDirectories, Mode=TwoWay}"
					Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
			</uc:SettingsCard>

			<!--  Details Layout Columns  -->
			<uc:SettingsExpander Header="{helpers:ResourceString Name=DetailsLayoutColumns}">
				<uc:SettingsExpander.HeaderIcon>
					<FontIcon Glyph="&#xE71D;" />
				</uc:SettingsExpander.HeaderIcon>
				<uc:SettingsExpander.Items>
					<!--  Tag Column  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=TagColumn}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=TagColumn}"
							IsOn="{x:Bind ViewModel.ShowFileTagColumn, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
					<!--  Size Column  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=SizeColumn}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=SizeColumn}"
							IsOn="{x:Bind ViewModel.ShowSizeColumn, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
					<!--  Type Column  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=TypeColumn}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=TypeColumn}"
							IsOn="{x:Bind ViewModel.ShowTypeColumn, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
					<!--  Date Column  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=DateColumn}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=DateColumn}"
							IsOn="{x:Bind ViewModel.ShowDateColumn, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
					<!--  Date Created Column  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=DateCreatedColumn}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=DateCreatedColumn}"
							IsOn="{x:Bind ViewModel.ShowDateCreatedColumn, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
				</uc:SettingsExpander.Items>
			</uc:SettingsExpander>

			<!--  Default Sorting And Grouping Options  -->
			<uc:SettingsExpander Header="{helpers:ResourceString Name=SortingAndGrouping}">
				<uc:SettingsExpander.HeaderIcon>
					<FontIcon Glyph="&#xE8CB;" />
				</uc:SettingsExpander.HeaderIcon>
				<uc:SettingsExpander.Items>
					<!--  Sort By  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=SortBy}">
						<ComboBox AutomationProperties.Name="{helpers:ResourceString Name=SortBy}" SelectedIndex="{x:Bind ViewModel.SelectedDefaultSortingIndex, Mode=TwoWay}">
							<ComboBoxItem Content="{helpers:ResourceString Name=Name}" />
							<ComboBoxItem Content="{helpers:ResourceString Name=DateModifiedLowerCase}" />
							<ComboBoxItem Content="{helpers:ResourceString Name=DateCreated}" />
							<ComboBoxItem Content="{helpers:ResourceString Name=Size}" />
							<ComboBoxItem Content="{helpers:ResourceString Name=Type}" />
							<ComboBoxItem Content="{helpers:ResourceString Name=Tag}" />
						</ComboBox>
					</uc:SettingsCard>
					<!--  Sort In Descending Order  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=SortInDescendingOrder}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=SortInDescendingOrder}"
							IsOn="{x:Bind ViewModel.SortInDescendingOrder, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
					<!--  Group By  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=GroupBy}">
						<ComboBox AutomationProperties.Name="{helpers:ResourceString Name=GroupBy}" SelectedIndex="{x:Bind ViewModel.SelectedDefaultGroupingIndex, Mode=TwoWay}">
							<ComboBoxItem Content="{helpers:ResourceString Name=None}" />
							<ComboBoxItem Content="{helpers:ResourceString Name=Name}" />
							<ComboBoxItem Content="{helpers:ResourceString Name=DateModifiedLowerCase}" />
							<ComboBoxItem Content="{helpers:ResourceString Name=DateCreated}" />
							<ComboBoxItem Content="{helpers:ResourceString Name=Size}" />
							<ComboBoxItem Content="{helpers:ResourceString Name=Type}" />
							<ComboBoxItem Content="{helpers:ResourceString Name=Tag}" />
						</ComboBox>
					</uc:SettingsCard>
					<!--  Group In Descending Order  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=GroupInDescendingOrder}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=GroupInDescendingOrder}"
							IsEnabled="{x:Bind ViewModel.IsDefaultGrouped, Mode=OneWay}"
							IsOn="{x:Bind ViewModel.GroupInDescendingOrder, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
					<!--  Group By Month Instead Of Year  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=GroupByMonthInsteadOfYear}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=GroupByMonthInsteadOfYear}"
							IsEnabled="{x:Bind ViewModel.IsGroupByDate, Mode=OneWay}"
							IsOn="{x:Bind ViewModel.GroupByMonth, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
					<!--  List And Sort Directories Alongside Files  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=SettingsListAndSortDirectoriesAlongsideFiles}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=SettingsListAndSortDirectoriesAlongsideFiles}"
							IsOn="{x:Bind ViewModel.ListAndSortDirectoriesAlongsideFiles, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
				</uc:SettingsExpander.Items>
			</uc:SettingsExpander>

			<!--  Layout Mode  -->
			<uc:SettingsCard Header="{helpers:ResourceString Name=LayoutMode}">
				<uc:SettingsCard.HeaderIcon>
					<FontIcon Glyph="&#xE8A9;" />
				</uc:SettingsCard.HeaderIcon>
				<ComboBox AutomationProperties.Name="{helpers:ResourceString Name=LayoutMode}" SelectedIndex="{x:Bind ViewModel.SelectedDefaultLayoutModeIndex, Mode=TwoWay}">
					<ComboBoxItem Content="{helpers:ResourceString Name=Details}" />
					<ComboBoxItem Content="{helpers:ResourceString Name=Tiles}" />
					<ComboBoxItem Content="{helpers:ResourceString Name=Columns}" />
					<ComboBoxItem Content="{helpers:ResourceString Name=IconGrid}" />
					<ComboBoxItem Content="{helpers:ResourceString Name=Adaptive}" />
				</ComboBox>
			</uc:SettingsCard>

			<!--  Section Header (Display)  -->
			<TextBlock Style="{StaticResource SettingsSectionHeaderTextBlockStyle}" Text="{helpers:ResourceString Name=Display}" />

			<!--  Hidden Items  -->
			<uc:SettingsExpander Header="{helpers:ResourceString Name=HiddenItems}">
				<uc:SettingsExpander.HeaderIcon>
					<FontIcon Glyph="&#xED1A;" />
				</uc:SettingsExpander.HeaderIcon>
				<uc:SettingsExpander.Items>
					<!--  Show Hidden Items  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=SettingsFilesAndFoldersShowHiddenItems}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=SettingsFilesAndFoldersShowHiddenItems}"
							IsOn="{x:Bind ViewModel.ShowHiddenItems, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
					<!--  Show Dot Files  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=ShowDotFiles}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=ShowDotFiles}"
							IsOn="{x:Bind ViewModel.ShowDotFiles, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
					<!--  Show Protected System Files  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=ShowProtectedSystemFiles}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=ShowProtectedSystemFiles}"
							IsOn="{x:Bind ViewModel.ShowProtectedSystemFiles, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
					<!--  Show Alternate Streams  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=ShowAlternateStreams}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=ShowAlternateStreams}"
							IsOn="{x:Bind ViewModel.AreAlternateStreamsVisible, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
				</uc:SettingsExpander.Items>
			</uc:SettingsExpander>

			<!--  File Extensions  -->
			<uc:SettingsCard Header="{helpers:ResourceString Name=SettingsFilesAndFoldersShowFileExtensions}">
				<uc:SettingsCard.HeaderIcon>
					<FontIcon Glyph="&#xE8F9;" />
				</uc:SettingsCard.HeaderIcon>
				<ToggleSwitch
					AutomationProperties.Name="{helpers:ResourceString Name=SettingsFilesAndFoldersShowFileExtensions}"
					IsOn="{x:Bind ViewModel.ShowFileExtensions, Mode=TwoWay}"
					Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
			</uc:SettingsCard>

			<!--  Show Thumbnails  -->
			<uc:SettingsCard Header="{helpers:ResourceString Name=SettingsFilesAndFoldersShowThumbnails}">
				<uc:SettingsCard.HeaderIcon>
					<FontIcon Glyph="&#xE91B;" />
				</uc:SettingsCard.HeaderIcon>
				<ToggleSwitch
					AutomationProperties.Name="{helpers:ResourceString Name=SettingsFilesAndFoldersShowThumbnails}"
					IsOn="{x:Bind ViewModel.ShowThumbnails, Mode=TwoWay}"
					Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
			</uc:SettingsCard>

			<!--  Show Checkboxes When Selecting Items  -->
			<uc:SettingsCard Header="{helpers:ResourceString Name=ShowCheckboxesWhenSelectingItems}">
				<uc:SettingsCard.HeaderIcon>
					<FontIcon Glyph="&#xE73A;" />
				</uc:SettingsCard.HeaderIcon>
				<ToggleSwitch
					AutomationProperties.Name="{helpers:ResourceString Name=ShowCheckboxesWhenSelectingItems}"
					IsOn="{x:Bind ViewModel.ShowCheckboxesWhenSelectingItems, Mode=TwoWay}"
					Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
			</uc:SettingsCard>

			<!--  Section Header (Behaviors)  -->
			<TextBlock Style="{StaticResource SettingsSectionHeaderTextBlockStyle}" Text="{helpers:ResourceString Name=Behaviors}" />

			<!--  Opening Items  -->
			<uc:SettingsExpander Header="{helpers:ResourceString Name=OpeningItems}">
				<uc:SettingsExpander.HeaderIcon>
					<FontIcon Glyph="&#xED25;" />
				</uc:SettingsExpander.HeaderIcon>
				<uc:SettingsExpander.Items>
					<!--  Open Items With One Click  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=SettingsOpenItemsWithOneClick}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=SettingsOpenItemsWithOneClick}"
							IsOn="{x:Bind ViewModel.OpenItemsWithOneClick, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
					<!--  Open Folder With One Click Columns Layout  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=OpenFolderWithOneClickColumnsLayout}">
						<ToggleSwitch
							AutomationProperties.Name="{helpers:ResourceString Name=OpenFolderWithOneClickColumnsLayout}"
							IsOn="{x:Bind ViewModel.ColumnLayoutOpenFoldersWithOneClick, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
					<!--  Open Folders In New Tab  -->
					<uc:SettingsCard Header="{helpers:ResourceString Name=OpenFoldersInNewTab}">
						<ToggleSwitch
							x:Name="OpenFoldersNewTab"
							AutomationProperties.Name="{helpers:ResourceString Name=OpenFoldersInNewTab}"
							IsOn="{x:Bind ViewModel.OpenFoldersNewTab, Mode=TwoWay}"
							Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
					</uc:SettingsCard>
				</uc:SettingsExpander.Items>
			</uc:SettingsExpander>

			<!--  Confirm Delete  -->
			<uc:SettingsCard Header="{helpers:ResourceString Name=ShowConfirmationWhenDeletingItems}">
				<uc:SettingsCard.HeaderIcon>
					<FontIcon Glyph="&#xE74D;" />
				</uc:SettingsCard.HeaderIcon>
				<ComboBox AutomationProperties.Name="{helpers:ResourceString Name=ShowConfirmationWhenDeletingItems}" SelectedIndex="{x:Bind ViewModel.SelectedDeleteConfirmationPolicyIndex, Mode=TwoWay}">
					<ComboBoxItem Content="{helpers:ResourceString Name=Always}" />
					<ComboBoxItem Content="{helpers:ResourceString Name=PermanentDeletionOnly}" />
					<ComboBoxItem Content="{helpers:ResourceString Name=Never}" />
				</ComboBox>
			</uc:SettingsCard>

			<!--  File Extension Warning  -->
			<uc:SettingsCard Header="{helpers:ResourceString Name=ShowFileExtensionWarning}">
				<uc:SettingsCard.HeaderIcon>
					<FontIcon Glyph="&#xE8AC;" />
				</uc:SettingsCard.HeaderIcon>
				<ToggleSwitch
					AutomationProperties.Name="{helpers:ResourceString Name=ShowFileExtensionWarning}"
					IsOn="{x:Bind ViewModel.ShowFileExtensionWarning, Mode=TwoWay}"
					Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
			</uc:SettingsCard>

			<!--  Select On Hover  -->
			<uc:SettingsCard Header="{helpers:ResourceString Name=SelectFilesAndFoldersOnHover}">
				<uc:SettingsCard.HeaderIcon>
					<FontIcon Glyph="&#xE8B3;" />
				</uc:SettingsCard.HeaderIcon>
				<ToggleSwitch
					AutomationProperties.Name="{helpers:ResourceString Name=SelectFilesAndFoldersOnHover}"
					IsOn="{x:Bind ViewModel.SelectFilesOnHover, Mode=TwoWay}"
					Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
			</uc:SettingsCard>

			<!--  Double click To Go Up  -->
			<uc:SettingsCard Header="{helpers:ResourceString Name=DoubleClickBlankSpaceToGoUp}">
				<uc:SettingsCard.HeaderIcon>
					<FontIcon Glyph="&#xE8B0;" />
				</uc:SettingsCard.HeaderIcon>
				<ToggleSwitch
					AutomationProperties.Name="{helpers:ResourceString Name=DoubleClickBlankSpaceToGoUp}"
					IsOn="{x:Bind ViewModel.DoubleClickToGoUp, Mode=TwoWay}"
					Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
			</uc:SettingsCard>

			<!--  Calculate Folder Sizes  -->
			<uc:SettingsExpander Header="{helpers:ResourceString Name=CalculateFolderSizes}" IsExpanded="True">
				<uc:SettingsExpander.HeaderIcon>
					<FontIcon Glyph="&#xEE40;" />
				</uc:SettingsExpander.HeaderIcon>
				<uc:SettingsExpander.Content>
					<ToggleSwitch
						AutomationProperties.Name="{helpers:ResourceString Name=CalculateFolderSizes}"
						IsOn="{x:Bind ViewModel.CalculateFolderSizes, Mode=TwoWay}"
						Style="{StaticResource RightAlignedCompactToggleSwitchStyle}" />
				</uc:SettingsExpander.Content>
				<uc:SettingsExpander.Items>
					<Grid>
						<InfoBar
							BorderBrush="Transparent"
							CornerRadius="0,0,4,4"
							IsClosable="False"
							IsIconVisible="True"
							IsOpen="True"
							Message="{helpers:ResourceString Name=ShowFolderSizesWarning}"
							Severity="Warning" />
					</Grid>
				</uc:SettingsExpander.Items>
			</uc:SettingsExpander>

		</StackPanel>
	</Grid>
</Page>
