<ResourceDictionary
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:animatedvisuals="using:Microsoft.UI.Xaml.Controls.AnimatedVisuals"
	xmlns:local="using:Files.App.UserControls.Settings"
	xmlns:wcttriggers="using:CommunityToolkit.WinUI.UI.Triggers">

	<ResourceDictionary.ThemeDictionaries>
		<ResourceDictionary x:Key="Default">
			<StaticResource x:Key="SettingsCardBackground" ResourceKey="CardBackgroundFillColorDefaultBrush" />
			<StaticResource x:Key="SettingsCardBackgroundPointerOver" ResourceKey="ControlFillColorSecondaryBrush" />
			<StaticResource x:Key="SettingsCardBackgroundPressed" ResourceKey="ControlFillColorTertiaryBrush" />
			<StaticResource x:Key="SettingsCardBackgroundDisabled" ResourceKey="ControlFillColorDisabledBrush" />

			<StaticResource x:Key="SettingsCardForeground" ResourceKey="TextFillColorPrimaryBrush" />
			<StaticResource x:Key="SettingsCardForegroundPointerOver" ResourceKey="TextFillColorPrimaryBrush" />
			<StaticResource x:Key="SettingsCardForegroundPressed" ResourceKey="TextFillColorSecondaryBrush" />
			<StaticResource x:Key="SettingsCardForegroundDisabled" ResourceKey="TextFillColorDisabledBrush" />

			<StaticResource x:Key="SettingsCardBorderBrush" ResourceKey="CardStrokeColorDefaultBrush" />
			<StaticResource x:Key="SettingsCardBorderBrushPointerOver" ResourceKey="ControlElevationBorderBrush" />
			<StaticResource x:Key="SettingsCardBorderBrushPressed" ResourceKey="ControlStrokeColorDefaultBrush" />
			<StaticResource x:Key="SettingsCardBorderBrushDisabled" ResourceKey="ControlStrokeColorDefaultBrush" />
		</ResourceDictionary>

		<ResourceDictionary x:Key="Light">
			<StaticResource x:Key="SettingsCardBackground" ResourceKey="CardBackgroundFillColorDefaultBrush" />
			<StaticResource x:Key="SettingsCardBackgroundPointerOver" ResourceKey="ControlFillColorSecondaryBrush" />
			<StaticResource x:Key="SettingsCardBackgroundPressed" ResourceKey="ControlFillColorTertiaryBrush" />
			<StaticResource x:Key="SettingsCardBackgroundDisabled" ResourceKey="ControlFillColorDisabledBrush" />

			<StaticResource x:Key="SettingsCardForeground" ResourceKey="TextFillColorPrimaryBrush" />
			<StaticResource x:Key="SettingsCardForegroundPointerOver" ResourceKey="TextFillColorPrimaryBrush" />
			<StaticResource x:Key="SettingsCardForegroundPressed" ResourceKey="TextFillColorSecondaryBrush" />
			<StaticResource x:Key="SettingsCardForegroundDisabled" ResourceKey="TextFillColorDisabledBrush" />

			<StaticResource x:Key="SettingsCardBorderBrush" ResourceKey="CardStrokeColorDefaultBrush" />
			<StaticResource x:Key="SettingsCardBorderBrushPointerOver" ResourceKey="ControlElevationBorderBrush" />
			<StaticResource x:Key="SettingsCardBorderBrushPressed" ResourceKey="ControlStrokeColorDefaultBrush" />
			<StaticResource x:Key="SettingsCardBorderBrushDisabled" ResourceKey="ControlStrokeColorDefaultBrush" />
		</ResourceDictionary>

		<ResourceDictionary x:Key="HighContrast">
			<StaticResource x:Key="SettingsCardBackground" ResourceKey="SystemColorButtonFaceColorBrush" />
			<StaticResource x:Key="SettingsCardBackgroundPointerOver" ResourceKey="SystemColorHighlightTextColorBrush" />
			<StaticResource x:Key="SettingsCardBackgroundPressed" ResourceKey="SystemColorHighlightTextColorBrush" />
			<StaticResource x:Key="SettingsCardBackgroundDisabled" ResourceKey="SystemControlBackgroundBaseLowBrush" />

			<StaticResource x:Key="SettingsCardForeground" ResourceKey="SystemColorButtonTextColorBrush" />
			<StaticResource x:Key="SettingsCardForegroundPointerOver" ResourceKey="SystemColorHighlightColorBrush" />
			<StaticResource x:Key="SettingsCardForegroundPressed" ResourceKey="SystemColorHighlightTextColorBrush" />
			<StaticResource x:Key="SettingsCardForegroundDisabled" ResourceKey="SystemControlDisabledBaseMediumLowBrush" />

			<StaticResource x:Key="SettingsCardBorderBrush" ResourceKey="SystemColorButtonTextColorBrush" />
			<StaticResource x:Key="SettingsCardBorderBrushPointerOver" ResourceKey="SystemColorHighlightColorBrush" />
			<StaticResource x:Key="SettingsCardBorderBrushPressed" ResourceKey="SystemColorHighlightTextColorBrush" />
			<StaticResource x:Key="SettingsCardBorderBrushDisabled" ResourceKey="SystemControlDisabledTransparentBrush" />
		</ResourceDictionary>

	</ResourceDictionary.ThemeDictionaries>

	<Thickness x:Key="SettingsCardBorderThickness">1</Thickness>
	<Thickness x:Key="SettingsCardPadding">16,16,16,16</Thickness>
	<x:Double x:Key="SettingsCardMinWidth">148</x:Double>
	<x:Double x:Key="SettingsCardMinHeight">68</x:Double>
	<x:Double x:Key="SettingsCardDescriptionFontSize">12</x:Double>
	<x:Double x:Key="SettingsCardHeaderIconMaxSize">20</x:Double>
	<x:Double x:Key="SettingsCardLeftIndention">0</x:Double>
	<x:Double x:Key="SettingsCardContentMinWidth">120</x:Double>
	<Thickness x:Key="SettingsCardHeaderIconMargin">2,0,20,0</Thickness>
	<Thickness x:Key="SettingsCardActionIconMargin">14,0,0,0</Thickness>
	<x:Double x:Key="SettingsCardActionIconMaxSize">13</x:Double>
	<Thickness x:Key="SettingsCardVerticalHeaderContentSpacing">0,8,0,0</Thickness>
	<x:Double x:Key="SettingsCardWrapThreshold">476</x:Double>
	<x:Double x:Key="SettingsCardWrapNoIconThreshold">286</x:Double>

	<x:String x:Key="SettingsExpanderChevronToolTip">Show all settings</x:String>
	<Thickness x:Key="SettingsExpanderHeaderPadding">16,16,4,16</Thickness>
	<Thickness x:Key="SettingsExpanderItemPadding">58,8,44,8</Thickness>
	<Thickness x:Key="SettingsExpanderItemBorderThickness">0,1,0,0</Thickness>
	<Thickness x:Key="ClickableSettingsExpanderItemPadding">58,8,16,8</Thickness>
	<x:Double x:Key="SettingsExpanderContentMinHeight">16</x:Double>
	<x:Double x:Key="SettingsExpanderChevronButtonWidth">32</x:Double>
	<x:Double x:Key="SettingsExpanderChevronButtonHeight">32</x:Double>

	<x:Double x:Key="SettingsCardSpacing">3</x:Double>

	<Style BasedOn="{StaticResource DefaultSettingsCardStyle}" TargetType="local:SettingsCard" />
	<Style BasedOn="{StaticResource DefaultSettingsExpanderStyle}" TargetType="local:SettingsExpander" />

	<Style
		x:Key="SettingsSectionHeaderTextBlockStyle"
		BasedOn="{StaticResource BodyStrongTextBlockStyle}"
		TargetType="TextBlock">
		<Style.Setters>
			<Setter Property="Margin" Value="2,32,2,4" />
		</Style.Setters>
	</Style>

	<Style
		x:Key="DefaultSettingsExpanderItemStyle"
		BasedOn="{StaticResource DefaultSettingsCardStyle}"
		TargetType="local:SettingsCard">
		<Style.Setters>
			<Setter Property="BorderThickness" Value="{ThemeResource SettingsExpanderItemBorderThickness}" />
			<Setter Property="MinHeight" Value="52" />
			<Setter Property="Padding" Value="{ThemeResource SettingsExpanderItemPadding}" />
			<Setter Property="CornerRadius" Value="0" />
		</Style.Setters>
	</Style>

	<Style
		x:Key="ClickableSettingsExpanderItemStyle"
		BasedOn="{StaticResource DefaultSettingsExpanderItemStyle}"
		TargetType="local:SettingsCard">
		<Style.Setters>
			<Setter Property="Padding" Value="{ThemeResource ClickableSettingsExpanderItemPadding}" />
		</Style.Setters>
	</Style>

	<Style x:Key="UnknownTypeSettingsExpanderItemStyle" TargetType="Grid">
		<Style.Setters>
			<Setter Property="Background" Value="{ThemeResource CardBackgroundFillColorDefaultBrush}" />
			<Setter Property="BorderThickness" Value="{ThemeResource SettingsExpanderItemBorderThickness}" />
			<Setter Property="Padding" Value="{ThemeResource SettingsExpanderItemPadding}" />
		</Style.Setters>
	</Style>

	<local:SettingsExpanderItemStyleSelector
		x:Key="SettingsExpanderItemStyleSelector"
		ClickableStyle="{StaticResource ClickableSettingsExpanderItemStyle}"
		DefaultStyle="{StaticResource DefaultSettingsExpanderItemStyle}"
		UnknownStyle="{StaticResource UnknownTypeSettingsExpanderItemStyle}" />

	<Style x:Key="DefaultSettingsCardStyle" TargetType="local:SettingsCard">
		<Style.Setters>
			<Setter Property="Background" Value="{ThemeResource SettingsCardBackground}" />
			<Setter Property="Foreground" Value="{ThemeResource SettingsCardForeground}" />
			<Setter Property="BorderBrush" Value="{ThemeResource SettingsCardBorderBrush}" />
			<Setter Property="BorderThickness" Value="{ThemeResource SettingsCardBorderThickness}" />
			<Setter Property="CornerRadius" Value="{ThemeResource ControlCornerRadius}" />
			<Setter Property="MinHeight" Value="{ThemeResource SettingsCardMinHeight}" />
			<Setter Property="AutomationProperties.AutomationControlType" Value="Group" />
			<Setter Property="AutomationProperties.Name" Value="{TemplateBinding Header}" />
			<Setter Property="MinWidth" Value="{ThemeResource SettingsCardMinWidth}" />
			<Setter Property="IsTabStop" Value="False" />
			<Setter Property="HorizontalAlignment" Value="Stretch" />
			<Setter Property="HorizontalContentAlignment" Value="Right" />
			<Setter Property="VerticalAlignment" Value="Center" />
			<Setter Property="BackgroundSizing" Value="InnerBorderEdge" />
			<Setter Property="Padding" Value="{ThemeResource SettingsCardPadding}" />
			<Setter Property="FontFamily" Value="{ThemeResource ContentControlThemeFontFamily}" />
			<Setter Property="FontWeight" Value="Normal" />
			<Setter Property="FontSize" Value="{ThemeResource ControlContentThemeFontSize}" />
			<Setter Property="UseSystemFocusVisuals" Value="{StaticResource UseSystemFocusVisuals}" />
			<Setter Property="FocusVisualMargin" Value="-3" />
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="local:SettingsCard">
						<Grid
							x:Name="PART_RootGrid"
							MinWidth="{TemplateBinding MinWidth}"
							MinHeight="{TemplateBinding MinHeight}"
							MaxWidth="{TemplateBinding MaxWidth}"
							Padding="{TemplateBinding Padding}"
							HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
							VerticalAlignment="{TemplateBinding VerticalAlignment}"
							AnimatedIcon.State="Normal"
							Background="{TemplateBinding Background}"
							BackgroundSizing="{TemplateBinding BackgroundSizing}"
							BorderBrush="{TemplateBinding BorderBrush}"
							BorderThickness="{TemplateBinding BorderThickness}"
							CornerRadius="{TemplateBinding CornerRadius}">
							<Grid.BackgroundTransition>
								<BrushTransition Duration="0:0:0.083" />
							</Grid.BackgroundTransition>
							<Grid.RowDefinitions>
								<RowDefinition Height="*" />
								<RowDefinition Height="Auto" />
							</Grid.RowDefinitions>
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="Auto" MinWidth="{ThemeResource SettingsCardLeftIndention}" />
								<ColumnDefinition Width="*" />
								<ColumnDefinition Width="Auto" />
								<ColumnDefinition Width="Auto" />
							</Grid.ColumnDefinitions>

							<!--  Header Icon Element  -->
							<Viewbox
								x:Name="PART_HeaderIconPresenterHolder"
								Grid.RowSpan="1"
								MaxWidth="{ThemeResource SettingsCardHeaderIconMaxSize}"
								MaxHeight="{ThemeResource SettingsCardHeaderIconMaxSize}"
								Margin="{ThemeResource SettingsCardHeaderIconMargin}">
								<ContentPresenter
									x:Name="PART_HeaderIconPresenter"
									AutomationProperties.AccessibilityView="Raw"
									Content="{TemplateBinding HeaderIcon}"
									HighContrastAdjustment="None" />
							</Viewbox>

							<!--  Header & Description  -->
							<Grid
								x:Name="HeaderPanel"
								Grid.Column="1"
								Margin="0,0,24,0"
								VerticalAlignment="Center">
								<Grid.RowDefinitions>
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
								</Grid.RowDefinitions>

								<ContentPresenter
									x:Name="PART_HeaderPresenter"
									Grid.Row="0"
									Content="{TemplateBinding Header}"
									HighContrastAdjustment="None"
									TextWrapping="Wrap" />

								<ContentPresenter
									x:Name="PART_DescriptionPresenter"
									Grid.Row="1"
									Content="{TemplateBinding Description}"
									FontSize="{ThemeResource SettingsCardDescriptionFontSize}"
									Foreground="{ThemeResource TextFillColorSecondaryBrush}"
									TextWrapping="Wrap">
									<ContentPresenter.Resources>
										<Style BasedOn="{StaticResource CaptionTextBlockStyle}" TargetType="TextBlock">
											<Style.Setters>
												<Setter Property="TextWrapping" Value="Wrap" />
											</Style.Setters>
										</Style>
										<Style BasedOn="{StaticResource DefaultHyperlinkButtonStyle}" TargetType="HyperlinkButton">
											<Style.Setters>
												<Setter Property="FontSize" Value="{ThemeResource SettingsCardDescriptionFontSize}" />
												<Setter Property="Padding" Value="0,0,0,-1" />
												<Setter Property="FontWeight" Value="SemiBold" />
											</Style.Setters>
										</Style>
										<Style TargetType="Hyperlink">
											<Style.Setters>
												<Setter Property="UnderlineStyle" Value="None" />
												<Setter Property="TextDecorations" Value="None" />
												<Setter Property="FontWeight" Value="SemiBold" />
											</Style.Setters>
										</Style>
									</ContentPresenter.Resources>
								</ContentPresenter>
							</Grid>

							<!--  Content  -->
							<ContentPresenter
								x:Name="PART_ContentPresenter"
								Grid.Column="2"
								HorizontalAlignment="Right"
								VerticalAlignment="Center"
								HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
								Content="{TemplateBinding Content}" />

							<!--  Action Icon  -->
							<Viewbox
								x:Name="PART_ActionIconPresenterHolder"
								Grid.RowSpan="2"
								Grid.Column="3"
								MaxWidth="{ThemeResource SettingsCardActionIconMaxSize}"
								MaxHeight="{ThemeResource SettingsCardActionIconMaxSize}"
								Margin="{ThemeResource SettingsCardActionIconMargin}"
								HorizontalAlignment="Center"
								VerticalAlignment="Center"
								HighContrastAdjustment="None"
								Visibility="Collapsed">
								<ContentPresenter
									x:Name="PART_ActionIconPresenter"
									AutomationProperties.AccessibilityView="Raw"
									Content="{TemplateBinding ActionIcon}"
									FontFamily="{ThemeResource SymbolThemeFontFamily}"
									HighContrastAdjustment="None"
									ToolTipService.ToolTip="{TemplateBinding ActionIconToolTip}" />
							</Viewbox>

							<VisualStateManager.VisualStateGroups>

								<VisualStateGroup x:Name="CommonStates">

									<VisualState x:Name="Normal" />

									<VisualState x:Name="PointerOver">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_RootGrid" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBackgroundPointerOver}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_RootGrid" Storyboard.TargetProperty="BorderBrush">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBorderBrushPointerOver}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundPointerOver}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderIconPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundPointerOver}" />
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
										<VisualState.Setters>
											<Setter Target="PART_RootGrid.(AnimatedIcon.State)" Value="PointerOver" />
										</VisualState.Setters>
									</VisualState>

									<VisualState x:Name="Pressed">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_RootGrid" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBackgroundPressed}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_RootGrid" Storyboard.TargetProperty="BorderBrush">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBorderBrushPressed}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderIconPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundPressed}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundPressed}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_DescriptionPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundPressed}" />
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
										<VisualState.Setters>
											<Setter Target="PART_RootGrid.(AnimatedIcon.State)" Value="Pressed" />
										</VisualState.Setters>
									</VisualState>

									<VisualState x:Name="Disabled">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_ActionIconPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundDisabled}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderIconPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundDisabled}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundDisabled}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_DescriptionPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundDisabled}" />
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
										<VisualState.Setters>
											<!--  DisabledVisual Should be handled by the control, not the animated icon.  -->
											<Setter Target="PART_RootGrid.(AnimatedIcon.State)" Value="Normal" />
										</VisualState.Setters>
									</VisualState>

									<VisualState x:Name="PointerOverReveal">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_RootGrid" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBackgroundPointerOver}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_RootGrid" Storyboard.TargetProperty="BorderBrush">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBorderBrush}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundPointerOver}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderIconPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundPointerOver}" />
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
										<VisualState.Setters>
											<Setter Target="PART_RootGrid.(AnimatedIcon.State)" Value="Pressed" />
										</VisualState.Setters>
									</VisualState>

									<VisualState x:Name="PressedReveal">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_RootGrid" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBackgroundPressed}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_RootGrid" Storyboard.TargetProperty="BorderBrush">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBorderBrush}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderIconPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundPressed}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundPressed}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_DescriptionPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardForegroundPressed}" />
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
										<VisualState.Setters>
											<Setter Target="PART_RootGrid.(AnimatedIcon.State)" Value="Pressed" />
										</VisualState.Setters>
									</VisualState>

								</VisualStateGroup>

								<VisualStateGroup x:Name="ContentAlignmentStates">

									<!--  Default  -->
									<VisualState x:Name="Right" />

									<!--  Whenever the control width is less than SettingsCardWrapThreshold, the Content is below the Header/Description  -->
									<VisualState x:Name="RightWrapped">
										<VisualState.StateTriggers>
											<wcttriggers:ControlSizeTrigger
												MinWidth="{ThemeResource SettingsCardWrapNoIconThreshold}"
												MaxWidth="{ThemeResource SettingsCardWrapThreshold}"
												TargetElement="{Binding ElementName=PART_RootGrid}" />
										</VisualState.StateTriggers>
										<VisualState.Setters>
											<Setter Target="PART_ContentPresenter.(Grid.Row)" Value="1" />
											<Setter Target="PART_ContentPresenter.(Grid.Column)" Value="1" />
											<Setter Target="PART_ContentPresenter.HorizontalAlignment" Value="Stretch" />
											<Setter Target="PART_ContentPresenter.HorizontalContentAlignment" Value="Left" />
											<Setter Target="PART_ContentPresenter.Margin" Value="{ThemeResource SettingsCardVerticalHeaderContentSpacing}" />
											<Setter Target="HeaderPanel.Margin" Value="0" />
										</VisualState.Setters>
									</VisualState>

									<!--  For even smaller widths: the HeaderIcon is collapsed.  -->
									<VisualState x:Name="RightWrappedNoIcon">
										<VisualState.StateTriggers>
											<wcttriggers:ControlSizeTrigger MaxWidth="{ThemeResource SettingsCardWrapNoIconThreshold}" TargetElement="{Binding ElementName=PART_RootGrid}" />
										</VisualState.StateTriggers>
										<VisualState.Setters>
											<Setter Target="PART_HeaderIconPresenterHolder.Visibility" Value="Collapsed" />
											<Setter Target="PART_ContentPresenter.(Grid.Row)" Value="1" />
											<Setter Target="PART_ContentPresenter.(Grid.Column)" Value="1" />
											<Setter Target="PART_ContentPresenter.HorizontalAlignment" Value="Stretch" />
											<Setter Target="PART_ContentPresenter.HorizontalContentAlignment" Value="Left" />
											<Setter Target="PART_ContentPresenter.Margin" Value="{ThemeResource SettingsCardVerticalHeaderContentSpacing}" />
											<Setter Target="HeaderPanel.Margin" Value="0" />
										</VisualState.Setters>
									</VisualState>

									<!--  Header/Description/Icon collapsed, content is to the left. Great for e.g. Checkboxes  -->
									<VisualState x:Name="Left">
										<VisualState.StateTriggers>
											<wcttriggers:IsEqualStateTrigger Value="{Binding ContentAlignment, RelativeSource={RelativeSource TemplatedParent}}" To="Left" />
										</VisualState.StateTriggers>
										<VisualState.Setters>
											<Setter Target="PART_HeaderIconPresenterHolder.Visibility" Value="Collapsed" />
											<Setter Target="PART_DescriptionPresenter.Visibility" Value="Collapsed" />
											<Setter Target="PART_HeaderPresenter.Visibility" Value="Collapsed" />
											<Setter Target="PART_ContentPresenter.(Grid.Row)" Value="1" />
											<Setter Target="PART_ContentPresenter.(Grid.Column)" Value="1" />
											<Setter Target="PART_ContentPresenter.HorizontalAlignment" Value="Left" />
										</VisualState.Setters>
									</VisualState>

									<!--  Similiar to Left, but the HeaderIcon/Header/Description is visible  -->
									<VisualState x:Name="Vertical">
										<VisualState.StateTriggers>
											<wcttriggers:IsEqualStateTrigger Value="{Binding ContentAlignment, RelativeSource={RelativeSource TemplatedParent}}" To="Vertical" />
										</VisualState.StateTriggers>
										<VisualState.Setters>
											<Setter Target="PART_ContentPresenter.(Grid.Row)" Value="1" />
											<Setter Target="PART_ContentPresenter.(Grid.Column)" Value="1" />
											<Setter Target="PART_ContentPresenter.HorizontalAlignment" Value="Stretch" />
											<Setter Target="PART_ContentPresenter.HorizontalContentAlignment" Value="{Binding HorizontalContentAlignment, RelativeSource={RelativeSource TemplatedParent}}" />
											<Setter Target="PART_ContentPresenter.Margin" Value="{ThemeResource SettingsCardVerticalHeaderContentSpacing}" />
										</VisualState.Setters>
									</VisualState>

								</VisualStateGroup>

								<!--  Collapsing the Content presenter whenever it's empty  -->
								<VisualStateGroup x:Name="ContentVisibilityStates">

									<VisualState x:Name="Visible" />

									<VisualState x:Name="Collapsed">
										<VisualState.StateTriggers>
											<wcttriggers:IsNullOrEmptyStateTrigger Value="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" />
										</VisualState.StateTriggers>
										<VisualState.Setters>
											<Setter Target="PART_ContentPresenter.Visibility" Value="Collapsed" />
										</VisualState.Setters>
									</VisualState>

								</VisualStateGroup>

							</VisualStateManager.VisualStateGroups>
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style.Setters>
	</Style>

	<Style
		x:Key="RightAlignedCompactToggleSwitchStyle"
		BasedOn="{StaticResource DefaultToggleSwitchStyle}"
		TargetType="ToggleSwitch">
		<Style.Setters>
			<Setter Property="MinWidth" Value="0" />
			<Setter Property="Height" Value="36" />
			<Setter Property="HorizontalContentAlignment" Value="Right" />
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="ToggleSwitch">
						<Grid
							VerticalAlignment="Stretch"
							Background="{TemplateBinding Background}"
							BorderBrush="{TemplateBinding BorderBrush}"
							BorderThickness="{TemplateBinding BorderThickness}"
							Control.IsTemplateFocusTarget="True"
							CornerRadius="{TemplateBinding CornerRadius}">
							<ContentPresenter
								x:Name="HeaderContentPresenter"
								Grid.Row="0"
								Margin="{ThemeResource ToggleSwitchTopHeaderMargin}"
								VerticalAlignment="Top"
								x:DeferLoadStrategy="Lazy"
								AutomationProperties.AccessibilityView="Raw"
								Content="{TemplateBinding Header}"
								ContentTemplate="{TemplateBinding HeaderTemplate}"
								Foreground="{ThemeResource ToggleSwitchHeaderForeground}"
								IsHitTestVisible="False"
								TextWrapping="Wrap"
								Visibility="Collapsed" />
							<Grid
								Grid.Row="1"
								HorizontalAlignment="Right"
								VerticalAlignment="Center">
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition Width="12" MaxWidth="12" />
									<ColumnDefinition Width="Auto" />
								</Grid.ColumnDefinitions>
								<Grid
									x:Name="SwitchAreaGrid"
									Grid.RowSpan="3"
									Grid.ColumnSpan="3"
									Margin="0,5"
									Background="{ThemeResource ToggleSwitchContainerBackground}"
									CornerRadius="{TemplateBinding CornerRadius}" />
								<ContentPresenter
									x:Name="OffContentPresenter"
									Grid.RowSpan="3"
									HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
									VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
									AutomationProperties.AccessibilityView="Raw"
									Content="{TemplateBinding OffContent}"
									ContentTemplate="{TemplateBinding OffContentTemplate}"
									Foreground="{TemplateBinding Foreground}"
									IsHitTestVisible="False"
									Opacity="0" />
								<ContentPresenter
									x:Name="OnContentPresenter"
									Grid.RowSpan="3"
									HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
									VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
									AutomationProperties.AccessibilityView="Raw"
									Content="{TemplateBinding OnContent}"
									ContentTemplate="{TemplateBinding OnContentTemplate}"
									Foreground="{TemplateBinding Foreground}"
									IsHitTestVisible="False"
									Opacity="0" />
								<Rectangle
									x:Name="OuterBorder"
									Grid.Row="1"
									Grid.Column="2"
									Width="40"
									Height="20"
									Fill="{ThemeResource ToggleSwitchFillOff}"
									RadiusX="10"
									RadiusY="10"
									Stroke="{ThemeResource ToggleSwitchStrokeOff}"
									StrokeThickness="{ThemeResource ToggleSwitchOuterBorderStrokeThickness}" />
								<Rectangle
									x:Name="SwitchKnobBounds"
									Grid.Row="1"
									Grid.Column="2"
									Width="40"
									Height="20"
									Fill="{ThemeResource ToggleSwitchFillOn}"
									Opacity="0"
									RadiusX="10"
									RadiusY="10"
									Stroke="{ThemeResource ToggleSwitchStrokeOn}"
									StrokeThickness="{ThemeResource ToggleSwitchOnStrokeThickness}" />
								<Grid
									x:Name="SwitchKnob"
									Grid.Row="1"
									Grid.Column="2"
									Width="20"
									Height="20"
									HorizontalAlignment="Left">
									<Border
										x:Name="SwitchKnobOn"
										Width="12"
										Height="12"
										Margin="0,0,3,0"
										HorizontalAlignment="Right"
										Background="{ThemeResource ToggleSwitchKnobFillOn}"
										BackgroundSizing="OuterBorderEdge"
										BorderBrush="{ThemeResource ToggleSwitchKnobStrokeOn}"
										CornerRadius="7"
										Opacity="0"
										RenderTransformOrigin="0.5, 0.5">
										<Border.RenderTransform>
											<CompositeTransform />
										</Border.RenderTransform>
									</Border>
									<Rectangle
										x:Name="SwitchKnobOff"
										Width="12"
										Height="12"
										Margin="3,0,0,0"
										HorizontalAlignment="Left"
										Fill="{ThemeResource ToggleSwitchKnobFillOff}"
										RadiusX="7"
										RadiusY="7"
										RenderTransformOrigin="0.5, 0.5">
										<Rectangle.RenderTransform>
											<CompositeTransform />
										</Rectangle.RenderTransform>
									</Rectangle>
									<Grid.RenderTransform>
										<TranslateTransform x:Name="KnobTranslateTransform" />
									</Grid.RenderTransform>
								</Grid>
								<Thumb
									x:Name="SwitchThumb"
									Grid.RowSpan="3"
									Grid.ColumnSpan="3"
									AutomationProperties.AccessibilityView="Raw">
									<Thumb.Template>
										<ControlTemplate TargetType="Thumb">
											<Rectangle Fill="Transparent" />
										</ControlTemplate>
									</Thumb.Template>
								</Thumb>
							</Grid>
							<VisualStateManager.VisualStateGroups>
								<VisualStateGroup x:Name="CommonStates">
									<VisualState x:Name="Normal">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Stroke">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchStrokeOff}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchFillOff}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOff}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOn}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchFillOn}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Stroke">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchStrokeOn}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchAreaGrid" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchContainerBackground}" />
											</ObjectAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOn"
												Storyboard.TargetProperty="Width">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlFasterAnimationDuration}"
													Value="12" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOn"
												Storyboard.TargetProperty="Height">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlFasterAnimationDuration}"
													Value="12" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOff"
												Storyboard.TargetProperty="Width">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlFasterAnimationDuration}"
													Value="12" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOff"
												Storyboard.TargetProperty="Height">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlFasterAnimationDuration}"
													Value="12" />
											</DoubleAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
									<VisualState x:Name="PointerOver">
										<Storyboard>
											<ColorAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="(Shape.Stroke).(SolidColorBrush.Color)">
												<LinearColorKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="{ThemeResource ToggleSwitchStrokeOffPointerOver}" />
											</ColorAnimationUsingKeyFrames>
											<ColorAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)">
												<LinearColorKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="{ThemeResource ToggleSwitchFillOffPointerOver}" />
											</ColorAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOffPointerOver}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOnPointerOver}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchFillOnPointerOver}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Stroke">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchStrokeOnPointerOver}" />
											</ObjectAnimationUsingKeyFrames>
											<ColorAnimationUsingKeyFrames Storyboard.TargetName="SwitchAreaGrid" Storyboard.TargetProperty="(Panel.Background).(SolidColorBrush.Color)">
												<LinearColorKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="{ThemeResource ToggleSwitchContainerBackgroundPointerOver}" />
											</ColorAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOn"
												Storyboard.TargetProperty="Width">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlFasterAnimationDuration}"
													Value="14" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOn"
												Storyboard.TargetProperty="Height">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlFasterAnimationDuration}"
													Value="14" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOff"
												Storyboard.TargetProperty="Width">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlFasterAnimationDuration}"
													Value="14" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOff"
												Storyboard.TargetProperty="Height">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlFasterAnimationDuration}"
													Value="14" />
											</DoubleAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
									<VisualState x:Name="Pressed">
										<VisualState.Setters>
											<Setter Target="SwitchKnobOn.HorizontalAlignment" Value="Right" />
											<Setter Target="SwitchKnobOn.Margin" Value="0,0,3,0" />
											<Setter Target="SwitchKnobOff.HorizontalAlignment" Value="Left" />
											<Setter Target="SwitchKnobOff.Margin" Value="3,0,0,0" />
										</VisualState.Setters>
										<Storyboard>
											<ColorAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="(Shape.Stroke).(SolidColorBrush.Color)">
												<LinearColorKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="{ThemeResource ToggleSwitchStrokeOffPressed}" />
											</ColorAnimationUsingKeyFrames>
											<ColorAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)">
												<LinearColorKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="{ThemeResource ToggleSwitchFillOffPressed}" />
											</ColorAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchFillOnPressed}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Stroke">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchStrokeOnPressed}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOffPressed}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOnPressed}" />
											</ObjectAnimationUsingKeyFrames>
											<ColorAnimationUsingKeyFrames Storyboard.TargetName="SwitchAreaGrid" Storyboard.TargetProperty="(Panel.Background).(SolidColorBrush.Color)">
												<LinearColorKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="{ThemeResource ToggleSwitchContainerBackgroundPressed}" />
											</ColorAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOn"
												Storyboard.TargetProperty="Width">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlFasterAnimationDuration}"
													Value="17" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOn"
												Storyboard.TargetProperty="Height">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlFasterAnimationDuration}"
													Value="14" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOff"
												Storyboard.TargetProperty="Width">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlFasterAnimationDuration}"
													Value="17" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOff"
												Storyboard.TargetProperty="Height">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlFasterAnimationDuration}"
													Value="14" />
											</DoubleAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
									<VisualState x:Name="Disabled">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="HeaderContentPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchHeaderForegroundDisabled}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="OffContentPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchContentForegroundDisabled}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="OnContentPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchContentForegroundDisabled}" />
											</ObjectAnimationUsingKeyFrames>
											<ColorAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="(Shape.Stroke).(SolidColorBrush.Color)">
												<LinearColorKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="{ThemeResource ToggleSwitchStrokeOffDisabled}" />
											</ColorAnimationUsingKeyFrames>
											<ColorAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)">
												<LinearColorKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="{ThemeResource ToggleSwitchFillOffDisabled}" />
											</ColorAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchFillOnDisabled}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Stroke">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchStrokeOnDisabled}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOffDisabled}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ToggleSwitchKnobFillOnDisabled}" />
											</ObjectAnimationUsingKeyFrames>
											<ColorAnimationUsingKeyFrames Storyboard.TargetName="SwitchAreaGrid" Storyboard.TargetProperty="(Panel.Background).(SolidColorBrush.Color)">
												<LinearColorKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="{ThemeResource ToggleSwitchContainerBackgroundDisabled}" />
											</ColorAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOn"
												Storyboard.TargetProperty="Width">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlNormalAnimationDuration}"
													Value="12" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOn"
												Storyboard.TargetProperty="Height">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlNormalAnimationDuration}"
													Value="12" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOff"
												Storyboard.TargetProperty="Width">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlNormalAnimationDuration}"
													Value="12" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames
												EnableDependentAnimation="True"
												Storyboard.TargetName="SwitchKnobOff"
												Storyboard.TargetProperty="Height">
												<SplineDoubleKeyFrame
													KeySpline="{StaticResource ControlFastOutSlowInKeySpline}"
													KeyTime="{StaticResource ControlNormalAnimationDuration}"
													Value="12" />
											</DoubleAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
								</VisualStateGroup>
								<VisualStateGroup x:Name="ToggleStates">
									<VisualStateGroup.Transitions>
										<VisualTransition
											x:Name="DraggingToOnTransition"
											GeneratedDuration="0"
											From="Dragging"
											To="On">
											<Storyboard>
												<RepositionThemeAnimation FromHorizontalOffset="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.KnobCurrentToOnOffset}" TargetName="SwitchKnob" />
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="1" />
												</DoubleAnimationUsingKeyFrames>
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="0" />
												</DoubleAnimationUsingKeyFrames>
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="1" />
												</DoubleAnimationUsingKeyFrames>
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="0" />
												</DoubleAnimationUsingKeyFrames>
											</Storyboard>
										</VisualTransition>
										<VisualTransition
											x:Name="OnToDraggingTransition"
											GeneratedDuration="0"
											From="On"
											To="Dragging">
											<Storyboard>
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="0" Value="1" />
												</DoubleAnimationUsingKeyFrames>
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="0" Value="1" />
												</DoubleAnimationUsingKeyFrames>
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="0" Value="0" />
												</DoubleAnimationUsingKeyFrames>
											</Storyboard>
										</VisualTransition>
										<VisualTransition
											x:Name="DraggingToOffTransition"
											GeneratedDuration="0"
											From="Dragging"
											To="Off">
											<Storyboard>
												<RepositionThemeAnimation FromHorizontalOffset="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.KnobCurrentToOffOffset}" TargetName="SwitchKnob" />
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="0" />
												</DoubleAnimationUsingKeyFrames>
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="0" />
												</DoubleAnimationUsingKeyFrames>
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="1" />
												</DoubleAnimationUsingKeyFrames>
											</Storyboard>
										</VisualTransition>
										<VisualTransition
											x:Name="OnToOffTransition"
											GeneratedDuration="0"
											From="On"
											To="Off">
											<Storyboard>
												<RepositionThemeAnimation FromHorizontalOffset="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.KnobOnToOffOffset}" TargetName="SwitchKnob" />
											</Storyboard>
										</VisualTransition>
										<VisualTransition
											x:Name="OffToOnTransition"
											GeneratedDuration="0"
											From="Off"
											To="On">
											<Storyboard>
												<RepositionThemeAnimation FromHorizontalOffset="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.KnobOffToOnOffset}" TargetName="SwitchKnob" />
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="1" />
												</DoubleAnimationUsingKeyFrames>
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="0" />
												</DoubleAnimationUsingKeyFrames>
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="1" />
												</DoubleAnimationUsingKeyFrames>
												<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Opacity">
													<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="0" />
												</DoubleAnimationUsingKeyFrames>
											</Storyboard>
										</VisualTransition>
									</VisualStateGroup.Transitions>
									<VisualState x:Name="Dragging" />
									<VisualState x:Name="Off" />
									<VisualState x:Name="On">
										<Storyboard>
											<DoubleAnimation
												Storyboard.TargetName="KnobTranslateTransform"
												Storyboard.TargetProperty="X"
												To="20"
												Duration="0" />
											<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobBounds" Storyboard.TargetProperty="Opacity">
												<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="1" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Opacity">
												<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="0" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOn" Storyboard.TargetProperty="Opacity">
												<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="1" />
											</DoubleAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames Storyboard.TargetName="SwitchKnobOff" Storyboard.TargetProperty="Opacity">
												<LinearDoubleKeyFrame KeyTime="{StaticResource ControlFasterAnimationDuration}" Value="0" />
											</DoubleAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
								</VisualStateGroup>
								<VisualStateGroup x:Name="ContentStates">
									<VisualState x:Name="OffContent">
										<Storyboard>
											<DoubleAnimation
												Storyboard.TargetName="OffContentPresenter"
												Storyboard.TargetProperty="Opacity"
												To="1"
												Duration="0" />
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="OffContentPresenter" Storyboard.TargetProperty="IsHitTestVisible">
												<DiscreteObjectKeyFrame KeyTime="0">
													<DiscreteObjectKeyFrame.Value>
														<x:Boolean>True</x:Boolean>
													</DiscreteObjectKeyFrame.Value>
												</DiscreteObjectKeyFrame>
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
									<VisualState x:Name="OnContent">
										<Storyboard>
											<DoubleAnimation
												Storyboard.TargetName="OnContentPresenter"
												Storyboard.TargetProperty="Opacity"
												To="1"
												Duration="0" />
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="OnContentPresenter" Storyboard.TargetProperty="IsHitTestVisible">
												<DiscreteObjectKeyFrame KeyTime="0">
													<DiscreteObjectKeyFrame.Value>
														<x:Boolean>True</x:Boolean>
													</DiscreteObjectKeyFrame.Value>
												</DiscreteObjectKeyFrame>
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
								</VisualStateGroup>
							</VisualStateManager.VisualStateGroups>
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style.Setters>
	</Style>

	<Style x:Key="DefaultSettingsExpanderStyle" TargetType="local:SettingsExpander">
		<Style.Setters>
			<Setter Property="Background" Value="{ThemeResource SettingsCardBackground}" />
			<Setter Property="Foreground" Value="{ThemeResource SettingsCardForeground}" />
			<Setter Property="BorderBrush" Value="{ThemeResource SettingsCardBorderBrush}" />
			<Setter Property="BorderThickness" Value="{ThemeResource SettingsCardBorderThickness}" />
			<Setter Property="CornerRadius" Value="{ThemeResource ControlCornerRadius}" />
			<Setter Property="MinHeight" Value="{ThemeResource SettingsCardMinHeight}" />
			<Setter Property="MinWidth" Value="{ThemeResource SettingsCardMinWidth}" />
			<Setter Property="IsTabStop" Value="False" />
			<Setter Property="HorizontalAlignment" Value="Stretch" />
			<Setter Property="HorizontalContentAlignment" Value="Stretch" />
			<Setter Property="VerticalAlignment" Value="Center" />
			<Setter Property="BackgroundSizing" Value="InnerBorderEdge" />
			<Setter Property="Padding" Value="{ThemeResource SettingsExpanderHeaderPadding}" />
			<Setter Property="FontFamily" Value="{ThemeResource ContentControlThemeFontFamily}" />
			<Setter Property="FontWeight" Value="Normal" />
			<Setter Property="FontSize" Value="{ThemeResource ControlContentThemeFontSize}" />
			<Setter Property="UseSystemFocusVisuals" Value="{StaticResource UseSystemFocusVisuals}" />
			<Setter Property="ItemContainerStyleSelector" Value="{StaticResource SettingsExpanderItemStyleSelector}" />
			<Setter Property="FocusVisualMargin" Value="-3" />
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="local:SettingsExpander">
						<Expander
							MinWidth="{TemplateBinding MinWidth}"
							MinHeight="{TemplateBinding MinHeight}"
							HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
							HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
							AutomationProperties.HelpText="{TemplateBinding AutomationProperties.HelpText}"
							AutomationProperties.Name="{TemplateBinding AutomationProperties.Name}"
							IsExpanded="{Binding IsExpanded, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
							Style="{StaticResource SettingsExpanderExpanderStyle}">

							<Expander.Header>
								<local:SettingsCard
									Padding="{StaticResource SettingsExpanderHeaderPadding}"
									VerticalAlignment="Center"
									Background="Transparent"
									BorderThickness="0"
									Content="{TemplateBinding Content}"
									Description="{TemplateBinding Description}"
									Header="{TemplateBinding Header}"
									HeaderIcon="{TemplateBinding HeaderIcon}"
									IsClickEnabled="False" />
							</Expander.Header>

							<Expander.Content>
								<Grid x:Name="PART_RootGrid" CornerRadius="4">
									<Grid.RowDefinitions>
										<RowDefinition Height="Auto" />
										<RowDefinition Height="*" />
										<RowDefinition Height="Auto" />
									</Grid.RowDefinitions>

									<ContentPresenter Content="{TemplateBinding ItemsHeader}" />

									<ItemsRepeater
										x:Name="PART_ItemsRepeater"
										Grid.Row="1"
										ItemTemplate="{Binding ItemTemplate, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}"
										TabFocusNavigation="Local">
										<ItemsRepeater.Layout>
											<StackLayout Orientation="Vertical" />
										</ItemsRepeater.Layout>
									</ItemsRepeater>

									<ContentPresenter Grid.Row="2" Content="{TemplateBinding ItemsFooter}" />

								</Grid>
							</Expander.Content>

						</Expander>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style.Setters>
	</Style>

	<Style x:Key="SettingsExpanderExpanderStyle" TargetType="Expander">
		<Setter Property="Background" Value="{ThemeResource ExpanderContentBackground}" />
		<Setter Property="BackgroundSizing" Value="InnerBorderEdge" />
		<Setter Property="MinWidth" Value="{ThemeResource FlyoutThemeMinWidth}" />
		<Setter Property="MinHeight" Value="{StaticResource ExpanderMinHeight}" />
		<Setter Property="BorderThickness" Value="{ThemeResource ExpanderContentDownBorderThickness}" />
		<Setter Property="BorderBrush" Value="{ThemeResource ExpanderContentBorderBrush}" />
		<Setter Property="Padding" Value="0" />
		<Setter Property="HorizontalAlignment" Value="Left" />
		<Setter Property="VerticalAlignment" Value="Center" />
		<Setter Property="CornerRadius" Value="{ThemeResource ControlCornerRadius}" />
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="Expander">
					<Grid MinWidth="{TemplateBinding MinWidth}" MaxWidth="{TemplateBinding MaxWidth}">
						<Grid.RowDefinitions>
							<RowDefinition x:Name="Row0" Height="Auto" />
							<RowDefinition x:Name="Row1" Height="*" />
						</Grid.RowDefinitions>

						<ToggleButton
							x:Name="ExpanderHeader"
							MinHeight="{TemplateBinding MinHeight}"
							Padding="{StaticResource ExpanderHeaderPadding}"
							HorizontalAlignment="Stretch"
							HorizontalContentAlignment="{StaticResource ExpanderHeaderHorizontalContentAlignment}"
							VerticalContentAlignment="{StaticResource ExpanderHeaderVerticalContentAlignment}"
							AutomationProperties.AutomationId="ExpanderToggleButton"
							AutomationProperties.Name="{TemplateBinding AutomationProperties.Name}"
							BackgroundSizing="{TemplateBinding BackgroundSizing}"
							BorderBrush="{ThemeResource ExpanderHeaderBorderBrush}"
							BorderThickness="{ThemeResource ExpanderHeaderBorderThickness}"
							Content="{TemplateBinding Header}"
							ContentTemplate="{TemplateBinding HeaderTemplate}"
							ContentTemplateSelector="{TemplateBinding HeaderTemplateSelector}"
							CornerRadius="{TemplateBinding CornerRadius}"
							IsChecked="{Binding Path=IsExpanded, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
							IsEnabled="{TemplateBinding IsEnabled}"
							IsTabStop="True"
							Style="{StaticResource SettingsExpanderHeaderDownStyle}" />

						<!--  The clip is a composition clip applied in code  -->
						<Border x:Name="ExpanderContentClip" Grid.Row="1">
							<Border
								x:Name="ExpanderContent"
								MinHeight="{ThemeResource SettingsExpanderContentMinHeight}"
								Padding="{TemplateBinding Padding}"
								HorizontalAlignment="Stretch"
								VerticalAlignment="Stretch"
								BackgroundSizing="{TemplateBinding BackgroundSizing}"
								BorderBrush="{TemplateBinding BorderBrush}"
								BorderThickness="{StaticResource ExpanderContentDownBorderThickness}"
								CornerRadius="{Binding CornerRadius, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BottomCornerRadiusFilterConverter}}"
								Visibility="Collapsed">
								<Border.RenderTransform>
									<CompositeTransform />
								</Border.RenderTransform>

								<ContentPresenter
									Margin="0,-2,0,0"
									HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
									VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
									Content="{TemplateBinding Content}"
									ContentTemplate="{TemplateBinding ContentTemplate}"
									ContentTemplateSelector="{TemplateBinding ContentTemplateSelector}" />

							</Border>
						</Border>

						<VisualStateManager.VisualStateGroups>

							<VisualStateGroup x:Name="ExpandStates">

								<VisualState x:Name="ExpandUp">
									<VisualState.Setters>
										<Setter Target="ExpanderHeader.CornerRadius" Value="{Binding CornerRadius, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BottomCornerRadiusFilterConverter}}" />
									</VisualState.Setters>
									<VisualState.Storyboard>
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpanderContent" Storyboard.TargetProperty="Visibility">
												<DiscreteObjectKeyFrame KeyTime="0" Value="Visible" />
											</ObjectAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames Storyboard.TargetName="ExpanderContent" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)">
												<DiscreteDoubleKeyFrame KeyTime="0" Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.ContentHeight}" />
												<SplineDoubleKeyFrame
													KeySpline="0.0, 0.0, 0.0, 1.0"
													KeyTime="0:0:0.333"
													Value="0" />
											</DoubleAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState.Storyboard>
								</VisualState>

								<VisualState x:Name="CollapseDown">
									<VisualState.Storyboard>
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpanderContent" Storyboard.TargetProperty="Visibility">
												<DiscreteObjectKeyFrame KeyTime="0:0:0.2" Value="Collapsed" />
											</ObjectAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames Storyboard.TargetName="ExpanderContent" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)">
												<DiscreteDoubleKeyFrame KeyTime="0" Value="0" />
												<SplineDoubleKeyFrame
													KeySpline="1.0, 1.0, 0.0, 1.0"
													KeyTime="0:0:0.167"
													Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.ContentHeight}" />
											</DoubleAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState.Storyboard>
								</VisualState>

								<VisualState x:Name="ExpandDown">
									<VisualState.Setters>
										<Setter Target="ExpanderHeader.CornerRadius" Value="{Binding CornerRadius, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource TopCornerRadiusFilterConverter}}" />
									</VisualState.Setters>
									<VisualState.Storyboard>
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpanderContent" Storyboard.TargetProperty="Visibility">
												<DiscreteObjectKeyFrame KeyTime="0" Value="Visible" />
											</ObjectAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames Storyboard.TargetName="ExpanderContent" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)">
												<DiscreteDoubleKeyFrame KeyTime="0" Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.NegativeContentHeight}" />
												<SplineDoubleKeyFrame
													KeySpline="0.0, 0.0, 0.0, 1.0"
													KeyTime="0:0:0.333"
													Value="0" />
											</DoubleAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState.Storyboard>
								</VisualState>

								<VisualState x:Name="CollapseUp">
									<VisualState.Storyboard>
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpanderContent" Storyboard.TargetProperty="Visibility">
												<DiscreteObjectKeyFrame KeyTime="0:0:0.167" Value="Collapsed" />
											</ObjectAnimationUsingKeyFrames>
											<DoubleAnimationUsingKeyFrames Storyboard.TargetName="ExpanderContent" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)">
												<DiscreteDoubleKeyFrame KeyTime="0" Value="0" />
												<SplineDoubleKeyFrame
													KeySpline="1.0, 1.0, 0.0, 1.0"
													KeyTime="0:0:0.167"
													Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.NegativeContentHeight}" />
											</DoubleAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState.Storyboard>
								</VisualState>

							</VisualStateGroup>

							<VisualStateGroup x:Name="ExpandDirectionStates">

								<VisualState x:Name="Down" />

								<VisualState x:Name="Up">
									<VisualState.Setters>
										<Setter Target="ExpanderHeader.Style" Value="{StaticResource ExpanderHeaderUpStyle}" />
										<Setter Target="ExpanderContent.BorderThickness" Value="{StaticResource ExpanderContentUpBorderThickness}" />
										<Setter Target="ExpanderContent.CornerRadius" Value="{Binding CornerRadius, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource TopCornerRadiusFilterConverter}}" />
										<Setter Target="ExpanderHeader.(Grid.Row)" Value="1" />
										<Setter Target="ExpanderContentClip.(Grid.Row)" Value="0" />
										<Setter Target="Row0.Height" Value="*" />
										<Setter Target="Row1.Height" Value="Auto" />
									</VisualState.Setters>
								</VisualState>

							</VisualStateGroup>

						</VisualStateManager.VisualStateGroups>
					</Grid>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

	<Style x:Key="SettingsExpanderHeaderDownStyle" TargetType="ToggleButton">
		<Setter Property="Padding" Value="0" />
		<Setter Property="HorizontalContentAlignment" Value="Left" />
		<Setter Property="BackgroundSizing" Value="InnerBorderEdge" />
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="ToggleButton">
					<Grid
						x:Name="ToggleButtonGrid"
						Width="{TemplateBinding Width}"
						MinWidth="{TemplateBinding MinWidth}"
						MinHeight="{TemplateBinding MinHeight}"
						MaxWidth="{TemplateBinding MaxWidth}"
						HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
						Background="{TemplateBinding Background}"
						BackgroundSizing="{TemplateBinding BackgroundSizing}"
						BorderBrush="{ThemeResource ExpanderHeaderBorderBrush}"
						BorderThickness="{TemplateBinding BorderThickness}"
						CornerRadius="{TemplateBinding CornerRadius}">
						<Grid.BackgroundTransition>
							<BrushTransition Duration="0:0:0.083" />
						</Grid.BackgroundTransition>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="*" />
							<ColumnDefinition Width="Auto" />
						</Grid.ColumnDefinitions>

						<ContentPresenter
							x:Name="ContentPresenter"
							HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
							VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
							AutomationProperties.AccessibilityView="Raw"
							Content="{TemplateBinding Content}"
							ContentTemplate="{TemplateBinding ContentTemplate}"
							ContentTransitions="{TemplateBinding ContentTransitions}"
							Foreground="{TemplateBinding Foreground}" />

						<ContentControl
							x:Name="ExpandCollapseChevronBorder"
							Grid.Column="1"
							Width="{StaticResource SettingsExpanderChevronButtonWidth}"
							Height="{StaticResource SettingsExpanderChevronButtonHeight}"
							Margin="0,0,8,0"
							HorizontalAlignment="Center"
							VerticalAlignment="Center"
							HorizontalContentAlignment="Center"
							VerticalContentAlignment="Center"
							Background="{ThemeResource ExpanderChevronBackground}"
							BorderBrush="{ThemeResource ExpanderChevronBorderBrush}"
							BorderThickness="{ThemeResource ExpanderChevronBorderThickness}"
							CornerRadius="{ThemeResource ControlCornerRadius}"
							FocusVisualMargin="-3"
							IsTabStop="False"
							ToolTipService.ToolTip="{StaticResource SettingsExpanderChevronToolTip}"
							UseSystemFocusVisuals="True">
							<AnimatedIcon
								x:Name="ExpandCollapseChevron"
								Width="16"
								Height="16"
								HorizontalAlignment="Center"
								VerticalAlignment="Center"
								AnimatedIcon.State="NormalOff"
								AutomationProperties.AccessibilityView="Raw"
								Foreground="{ThemeResource ExpanderChevronForeground}"
								RenderTransformOrigin="0.5, 0.5">
								<animatedvisuals:AnimatedChevronUpDownSmallVisualSource />
								<AnimatedIcon.FallbackIconSource>
									<FontIconSource
										FontFamily="{StaticResource SymbolThemeFontFamily}"
										FontSize="16"
										Glyph="{StaticResource ExpanderChevronDownGlyph}"
										IsTextScaleFactorEnabled="False" />
								</AnimatedIcon.FallbackIconSource>
							</AnimatedIcon>
						</ContentControl>

						<VisualStateManager.VisualStateGroups>

							<VisualStateGroup x:Name="CommonStates">

								<VisualState x:Name="Normal">
									<Storyboard>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderHeaderForeground}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ToggleButtonGrid" Storyboard.TargetProperty="BorderBrush">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBorderBrush}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpandCollapseChevron" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderChevronForeground}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ToggleButtonGrid" Storyboard.TargetProperty="Background">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBackground}" />
										</ObjectAnimationUsingKeyFrames>
									</Storyboard>
								</VisualState>

								<VisualState x:Name="PointerOver">
									<Storyboard>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderHeaderForegroundPointerOver}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ToggleButtonGrid" Storyboard.TargetProperty="BorderBrush">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBorderBrushPointerOver}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpandCollapseChevron" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderChevronPointerOverForeground}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ToggleButtonGrid" Storyboard.TargetProperty="Background">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBackgroundPointerOver}" />
										</ObjectAnimationUsingKeyFrames>
									</Storyboard>
									<VisualState.Setters>
										<Setter Target="ExpandCollapseChevron.(AnimatedIcon.State)" Value="PointerOverOff" />
									</VisualState.Setters>
								</VisualState>

								<VisualState x:Name="Pressed">
									<Storyboard>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderHeaderForegroundPressed}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ToggleButtonGrid" Storyboard.TargetProperty="BorderBrush">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBorderBrushPressed}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpandCollapseChevron" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderChevronPressedForeground}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ToggleButtonGrid" Storyboard.TargetProperty="Background">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBackgroundPressed}" />
										</ObjectAnimationUsingKeyFrames>
									</Storyboard>
									<VisualState.Setters>
										<Setter Target="ExpandCollapseChevron.(AnimatedIcon.State)" Value="PressedOff" />
									</VisualState.Setters>
								</VisualState>

								<VisualState x:Name="Disabled">
									<Storyboard>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderHeaderDisabledForeground}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ToggleButtonGrid" Storyboard.TargetProperty="BorderBrush">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBorderBrushDisabled}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpandCollapseChevron" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderHeaderDisabledForeground}" />
										</ObjectAnimationUsingKeyFrames>
									</Storyboard>
								</VisualState>

								<VisualState x:Name="Checked">
									<Storyboard>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderHeaderForeground}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpandCollapseChevron" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderChevronForeground}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpandCollapseChevronBorder" Storyboard.TargetProperty="BorderBrush">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderChevronBorderBrush}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpandCollapseChevronBorder" Storyboard.TargetProperty="Background">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderChevronBackground}" />
										</ObjectAnimationUsingKeyFrames>
									</Storyboard>
									<VisualState.Setters>
										<Setter Target="ExpandCollapseChevron.(AnimatedIcon.State)" Value="NormalOn" />
									</VisualState.Setters>
								</VisualState>

								<VisualState x:Name="CheckedPointerOver">
									<Storyboard>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderHeaderForegroundPointerOver}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpandCollapseChevron" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderChevronPointerOverForeground}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ToggleButtonGrid" Storyboard.TargetProperty="BorderBrush">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBorderBrushPointerOver}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ToggleButtonGrid" Storyboard.TargetProperty="Background">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBackgroundPointerOver}" />
										</ObjectAnimationUsingKeyFrames>
									</Storyboard>
									<VisualState.Setters>
										<Setter Target="ExpandCollapseChevron.(AnimatedIcon.State)" Value="PointerOverOn" />
									</VisualState.Setters>
								</VisualState>

								<VisualState x:Name="CheckedPressed">
									<Storyboard>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderHeaderForegroundPressed}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpandCollapseChevron" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderChevronPressedForeground}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ToggleButtonGrid" Storyboard.TargetProperty="BorderBrush">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBorderBrushPressed}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ToggleButtonGrid" Storyboard.TargetProperty="Background">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBackgroundPressed}" />
										</ObjectAnimationUsingKeyFrames>
									</Storyboard>
									<VisualState.Setters>
										<Setter Target="ExpandCollapseChevron.(AnimatedIcon.State)" Value="PressedOn" />
									</VisualState.Setters>
								</VisualState>

								<VisualState x:Name="CheckedDisabled">
									<Storyboard>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderHeaderDisabledForeground}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ExpandCollapseChevron" Storyboard.TargetProperty="Foreground">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ExpanderHeaderDisabledForeground}" />
										</ObjectAnimationUsingKeyFrames>
										<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ToggleButtonGrid" Storyboard.TargetProperty="BorderBrush">
											<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SettingsCardBorderBrushDisabled}" />
										</ObjectAnimationUsingKeyFrames>
									</Storyboard>
									<VisualState.Setters>
										<Setter Target="ExpandCollapseChevron.(AnimatedIcon.State)" Value="NormalOn" />
									</VisualState.Setters>
								</VisualState>

								<VisualState x:Name="Indeterminate" />
								<VisualState x:Name="IndeterminatePointerOver" />
								<VisualState x:Name="IndeterminatePressed" />
								<VisualState x:Name="IndeterminateDisabled" />

							</VisualStateGroup>

						</VisualStateManager.VisualStateGroups>
					</Grid>

				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

</ResourceDictionary>
